<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFrameworks>$(DotNetTargets);</TargetFrameworks>
        <Platforms>x64;arm64;</Platforms>
        <UsingDxc>true</UsingDxc>
    </PropertyGroup>

    <ItemGroup>
      <ProjectReference Include="..\DXSharp\DXSharp.csproj" />
    </ItemGroup>

    
    <!-- Package References :: -->
    <ItemGroup>
      <PackageReference Include="Microsoft.Direct3D.DXC" Version="$(DxcVersion)" GeneratePathProperty="true" Aliases="DxcPackage">
      </PackageReference>

      <!-- Win32Metadata Package -->
      <PackageReference Include="Microsoft.Windows.SDK.Win32Metadata" Version="$(WinMDVersion)" />
      
      <!-- CsWin32 Generator -->
      <PackageReference Include="Microsoft.Windows.CsWin32" Version="$(CsWin32Version)">
        <PrivateAssets>all</PrivateAssets>
      </PackageReference>
    </ItemGroup>
    
    
    <ItemGroup>
        <!-- Resolve the path to the correct native DLLs for the current platform: -->
        <DxcDLLs Include="$(PkgMicrosoft_Direct3D_DXC)\build\native\bin\$(NativePlatformName)\*.dll" />
        
        <None Include="$(DxcDLLs)">
            <Link>%(RecursiveDir)%(FileName)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
    </ItemGroup>
</Project>
